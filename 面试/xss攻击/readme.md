# XSS
Cross site scripting

1. 窃取cookies
document.cookie,会直接获取到cookies,黑客通过运行脚本获取到cookies在其他电脑上模拟登录状态
2. 监听用户的行为
3. 伪造登录窗口
4. 在你的页面生成浮窗广告
监听用户行为,监听用户键盘事件,掌握用户信息

- 怎么注入的
1. 存储型的攻击
将脚本存储到数据库中,当有用户浏览时,服务器会返回脚本给用户,自动执行脚本,从而实现攻击
2. 反射型攻击,当用户端传参的时候,服务器端会将参数原封不动的返回给用户,用户端会自动执行脚本,比如搜索

3. DOM攻击
攻击脚本同样源于用户输入，但不是通过服务器直接回显，
DOM攻击,通过修改页面上的DOM,从而实现攻击

- 如何防范
1. 服务端对接受的参数进行过滤,过滤掉一些特殊字符,比如<,>,&,script等,防止注入攻击
2. 利用好安全策略csp
3. 在后端返回cookie时,设置httponly,防止通过js获取cookie,防止csrf攻击

# csrf
跨站请求伪造,黑客引诱你打开一个网站,并通过第三方站点,伪造一个请求,从而伪造一个请求,绕过服务器的验证,

- 防止
1. 利用Cookie的SameSite属性
2. 服务端验证请求来源
Referer 和Origin字段,请求携带这两个字段,服务器端验证这两个字段,防止csrf攻击
使用一次性Token（anti-CSRF token）：服务器在发出表单时提供一个随机生成的Token，用户提交表单时必须附带此Token，服务器验证Token的有效性和唯一性。
同源策略限制：某些敏感操作要求必须同源才可执行。
HTTP头部防护：如使用SameSite属性来限制Cookie的发送范围，或使用Referer头检查请求来源。
验证码：在重要操作时要求用户输入验证码，增加攻击难度。
